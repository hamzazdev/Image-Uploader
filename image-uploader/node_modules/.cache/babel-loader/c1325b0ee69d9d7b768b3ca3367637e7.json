{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React from'react';import ImageUploadBackground from\"./ImageUploadBackground.svg\";import{useHistory}from\"react-router-dom\";var ImageUpload=function ImageUpload(_ref){var uploadImage=_ref.uploadImage;var history=useHistory();var isImage=function isImage(file){//Checks that the file is actual and image type\nif(file.type.match(/image\\/[a-z]*/)!=null){return true;}};var dragHandler=function dragHandler(e){switch(e.type){case'dragenter':e.preventDefault(e);e.target.classList.add('border-4','animate-pulse');break;case'dragover':e.preventDefault(e);e.target.classList.add('border-4','animate-pulse');break;case'dragleave':e.preventDefault(e);e.target.classList.remove('border-4','animate-pulse');break;case'drop':e.target.classList.remove('border-4','animate-pulse');if(e.dataTransfer.files.length>0&&isImage(e.dataTransfer.files[0])){e.preventDefault(e);//prevents broweser default action (opening the file in new tab usually)\nvar image=e.dataTransfer.files[0];uploadImage(image);history.push('/uploading');}break;default:return e;}};var formSubmitHandler=function formSubmitHandler(){var image=new FormData(document.forms[0]).get('newPhoto');if(image.name!==\"\"&&isImage(image)){uploadImage(image);history.push('/uploading');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-medium text-gray-800\",children:\"Upload your image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-md font-light text-gray-400\",children:\"File should be .jpeg, .png...\"}),/*#__PURE__*/_jsxs(\"div\",{onDragEnter:function onDragEnter(e){return dragHandler(e);},onDragOver:function onDragOver(e){return dragHandler(e);},onDragLeave:function onDragLeave(e){return dragHandler(e);},onDrop:function onDrop(e){return dragHandler(e);},className:\" rounded-md border-dashed border-2 border-blue-300 min-w-full my-10 bg-gray-100 text-center p-3 py-5 flex flex-wrap justify-center content-center\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"75%\",alt:\"drag here to upload\",src:ImageUploadBackground}),/*#__PURE__*/_jsx(\"p\",{className:\" my-5 text-md font-light text-gray-400\",children:\"Drag & Drop your image here\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\" my-5 text-md font-light text-gray-400\",children:\"Or\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"my-form\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"p-3 bg-blue-500 text-white rounded w-1/2 hover:bg-blue-700 cursor-pointer\",htmlFor:\"newPhoto\",children:\"Choose a file\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",name:\"newPhoto\",id:\"newPhoto\",className:\"invisible\",onChange:function onChange(){return formSubmitHandler();}})]})]});};export default ImageUpload;","map":{"version":3,"sources":["/Users/hamza/Projects/image-uploader/src/components/Upload.js"],"names":["React","useHistory","ImageUpload","uploadImage","history","isImage","file","type","match","dragHandler","e","preventDefault","target","classList","add","remove","dataTransfer","files","length","image","push","formSubmitHandler","FormData","document","forms","get","name","ImageUploadBackground"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ImageUploadBackground from './ImageUploadBackground.svg'\nimport { useHistory } from \"react-router-dom\";\n\nconst ImageUpload = ({ uploadImage }) => {\n    const history = useHistory();\n\n    const isImage = file => {\n        //Checks that the file is actual and image type\n        if (file.type.match(/image\\/[a-z]*/) != null) {\n            return true\n        }\n    }\n\n    const dragHandler = e => {\n        switch (e.type) {\n            case 'dragenter':\n                e.preventDefault(e)\n                e.target.classList.add('border-4', 'animate-pulse')\n                break;\n            case 'dragover':\n                e.preventDefault(e)\n                e.target.classList.add('border-4', 'animate-pulse')\n                break;\n            case 'dragleave':\n                e.preventDefault(e)\n                e.target.classList.remove('border-4', 'animate-pulse')\n                break;\n            case 'drop':\n                e.target.classList.remove('border-4', 'animate-pulse')\n                if (e.dataTransfer.files.length > 0 && isImage(e.dataTransfer.files[0])) {\n                    e.preventDefault(e) //prevents broweser default action (opening the file in new tab usually)\n                    const image = e.dataTransfer.files[0]\n                    uploadImage(image)\n                    history.push('/uploading')\n                }\n                break;\n            default:\n                return e\n        }\n    }\n\n    const formSubmitHandler = () => {\n        const image = new FormData(document.forms[0]).get('newPhoto')\n        if (image.name !== \"\" && isImage(image)) {\n            uploadImage(image)\n            history.push('/uploading')\n        }\n    }\n    \n    return (\n        <>\n            <h3 className='text-2xl font-medium text-gray-800'>Upload your image</h3>\n            <p className='text-md font-light text-gray-400'>File should be .jpeg, .png...</p>\n            <div\n                onDragEnter={e => dragHandler(e)}\n                onDragOver={e => dragHandler(e)}\n                onDragLeave={e => dragHandler(e)}\n                onDrop={e => dragHandler(e)}\n                className=' rounded-md border-dashed border-2 border-blue-300 min-w-full my-10 bg-gray-100 text-center p-3 py-5 flex flex-wrap justify-center content-center'\n                >\n                <img width='75%' alt='drag here to upload' src={ImageUploadBackground} />\n                <p className=' my-5 text-md font-light text-gray-400'>Drag & Drop your image here</p>\n            </div>\n            <p className=' my-5 text-md font-light text-gray-400'>Or</p>\n            <form id=\"my-form\">\n                <label className='p-3 bg-blue-500 text-white rounded w-1/2 hover:bg-blue-700 cursor-pointer' htmlFor='newPhoto'>Choose a file</label>\n                <input type='file' accept='image/*' name='newPhoto' id='newPhoto' className='invisible' onChange={() => formSubmitHandler()}/>\n            </form>\n        </>\n    )\n}\n\nexport default ImageUpload"]},"metadata":{},"sourceType":"module"}